# Module-Federation

## 1.模块联邦

- 使用模块联邦，每个部分将是一个单独的构建，这些构建被编译为“容器”；
- 容器可以被应用程序或其他容器引用；
- 在这种关系中，容器是远程的，容器的使用者是主机”。“远程"可以将模块公开给主机”。“主机"可以使用此类模块。它们被称为“远程模块”；
- 通过使用单独的构建，我们可以获得整个系统的良好构建性能；

![image-20230109224424023](https://raw.githubusercontent.com/Linzsong/oss_img/main/webpack/202301092244522.png)



## 2. 模块联邦概述


模块联邦中的 **公开的模块** 和 **共享的模块**

### 公开的模块

- 容器以异步方式公开模块；
- 容器需要先 `加载` / `下载` 要使用的模块，然后再从容器中使用它们；
- 异步构建公开模块时，我们可以将每个公开的模块及其依赖项放在单独的文件中；（多个模块生成多个文件）
- 这样，只需要加载使用过的模块，但是容器仍然可以将模块捆绑在一起；（加载容器时可以将模块组合起来，不用重复加载）
- 使用webpack的代码分割技术；（例如，在公开的模块中分割第三方模块或公共依赖模块的代码块）
- 这样保持较低的请求和总下载量，从而提高Web性能；
- 容器在使用模块的时候，需要通过异步的方式进行加载；

### 共享的模块

- 容器和应用程序可以通过 `share` 共享公共模块，同时可以对共享模块的版本进行检查；
- 共享范围将对共享模块进行重复数据删除，可以规定共享模块内的版本；
- 共享模块是以异步的方式进行加载。共享模块是不需要重复下载的，我们仅需要下载消费共享的模块即可；

![1608851802459](https://raw.githubusercontent.com/Linzsong/oss_img/main/webpack/202301092249979.png)

